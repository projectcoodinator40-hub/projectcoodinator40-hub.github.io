<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DPR â€“ 20 Rows</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  padding: 8px;
}
h3 {
  text-align: center;
  margin-bottom: 8px;
}
table {
  width: 100%;
  border-collapse: collapse;
  background: white;
}
th, td {
  border: 1px solid #aaa;
  padding: 3px;
  font-size: 11px; /* Reduced font size for better fit */
}
th {
  background: #e6e6e6;
  text-align: center;
}
input, textarea {
  width: 100%;
  border: none;
  outline: none;
  font-size: 11px;
  background: transparent;
  box-sizing: border-box;
}
textarea {
  resize: none;
}
button {
  width: 100%;
  margin-top: 10px;
  padding: 14px;
  font-size: 16px;
  background: #25D366;
  color: white;
  border: none;
}
</style>
</head>

<body>

<h3>Daily Progress Report</h3>

<table id="dprTable">
<thead>
<tr>
  <th>S. No.</th>
  <th>Date</th>
  <th>Block Name</th>
  <th>Contractor Name</th>
  <th>Work Done</th>
  <th>Skilled Labour count</th>
  <th>Unskilled labour count</th>
  <th>Material Received</th>
  <th>quantity</th>
  <th>unit</th>
  <th>Material outgoing</th>
  <th>Quantity outgoing</th>
  <th>Unit_outgoing</th>
</tr>
</thead>

<tbody>
<script>
for (let i = 1; i <= 20; i++) {
  document.write(`
  <tr>
    <td>${i}</td>
    <td><input type="date"></td>
    <td><input placeholder="Block Name"></td>
    <td><input placeholder="Contractor Name"></td>
    <td><textarea rows="2" placeholder="Work Done"></textarea></td>
    <td><input type="number" min="0" placeholder="Skilled"></td>
    <td><input type="number" min="0" placeholder="Unskilled"></td>
    <td><input placeholder="Material Received"></td>
    <td><input placeholder="Quantity" type="number" min="0"></td>
    <td><input placeholder="Unit"></td>
    <td><input placeholder="Material outgoing"></td>
    <td><input placeholder="Quantity outgoing" type="number" min="0"></td>
    <td><input placeholder="Unit outgoing"></td>
  </tr>
  `);
}
</script>
</tbody>
</table>

<button onclick="sendWhatsApp()">Send DPR on WhatsApp</button>

<script>
function sendWhatsApp() {
  const rows = document.querySelectorAll("#dprTable tbody tr");
  let msg = "DPR REPORT\n\n";

  rows.forEach((row, i) => {
    const inputs = row.querySelectorAll("input, textarea");
    // Check if any field in the first 4 columns has data
    if (
      inputs[0].value ||
      inputs[1].value ||
      inputs[2].value ||
      inputs[3].value
    ) {
      msg +=
`Row ${i + 1}
Date: ${inputs[0].value}
Block Name: ${inputs[1].value}
Contractor Name: ${inputs[2].value}
Work Done: ${inputs[3].value}
Skilled Labour count: ${inputs[4].value}
Unskilled labour count: ${inputs[5].value}
Material Received: ${inputs[6].value}
Quantity: ${inputs[7].value}
Unit: ${inputs[8].value}
Material outgoing: ${inputs[9].value}
Quantity outgoing: ${inputs[10].value}
Unit outgoing: ${inputs[11].value}
`;
    }
  });

  const url = "https://wa.me/?text=" + encodeURIComponent(msg);
  window.open(url, "_blank");
}
</script>

</body>
</html>
